{% load static %}
<link href="{% static 'css/carousel.css' %}" rel='stylesheet' type='text/css'>

<div class="carousel-container">
  <!-- Carousel Indicators -->
  <div id="homeCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
    <div class="carousel-indicators">
      {% for image in carousel_images %}
        <button type="button" data-bs-target="#homeCarousel" data-bs-slide-to="{{ forloop.counter0 }}" {% if forloop.first %}class="active" aria-current="true"{% endif %} aria-label="Slide {{ forloop.counter }}"></button>
      {% empty %}
        <!-- Default indicators if no images in database -->
        <button type="button" data-bs-target="#homeCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#homeCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#homeCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
      {% endfor %}
    </div>
    
    <!-- Carousel Items -->
    <div class="carousel-inner">
      {% for image in carousel_images %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <div class="carousel-image-container">
            <img src="{{ image.image.url }}" class="carousel-image" alt="{{ image.title }}">
          </div>
          <div class="carousel-caption">
            <h2>{{ image.title }}</h2>
            <p>{{ image.subtitle }}</p>
            <a href="{{ image.button_link }}" class="btn carousel-btn">{{ image.button_text }}</a>
          </div>
        </div>
      {% empty %}
        <!-- Default carousel items if no images in database -->
        <div class="carousel-item active">
          <div class="carousel-image-container">
            <img src="{% static 'image/carousel1.jpg' %}" class="carousel-image" alt="School Campus">
          </div>
          <div class="carousel-caption">
            <h2>Welcome to Kapadia High School</h2>
            <p>Nurturing Excellence Since 1956</p>
            <a href="{% url 'aboutSchool' %}" class="btn carousel-btn">Learn More</a>
          </div>
        </div>
        <div class="carousel-item">
          <div class="carousel-image-container">
            <img src="{% static 'image/carousel2.jpg' %}" class="carousel-image" alt="Students">
          </div>
          <div class="carousel-caption">
            <h2>Excellence in Education</h2>
            <p>Developing Future Leaders</p>
            <a href="#" class="btn carousel-btn">Our Programs</a>
          </div>
        </div>
        <div class="carousel-item">
          <div class="carousel-image-container">
            <img src="{% static 'image/carousel3.jpg' %}" class="carousel-image" alt="School Activities">
          </div>
          <div class="carousel-caption">
            <h2>Holistic Development</h2>
            <p>Academic Excellence and Beyond</p>
            <a href="{% url 'gallery' %}" class="btn carousel-btn">View Gallery</a>
          </div>
        </div>
      {% endfor %}
    </div>
    
    <!-- Carousel Controls -->
    <button class="carousel-control-prev" type="button" data-bs-target="#homeCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#homeCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</div>


